#
# Do NOT edit this file, create a <device-name>-user.yml in the same directory instead
#
deviceName: "Tr-Rack"
brand: "Korg"
macros:
  - "GLOBAL DATA()                   : 00543 : F042303B 0E 00 F7"
  - "MODE DATA()                     : 0000B : F042303B 12 F7"
  - "MULTI DATA()                    : 011E9 : F042303B 18 00 F7"
  - "CURRENT PROGRAM PARAMETER()     : 001F6 : F042303B 10 00 F7"
  - "CURRENT COMBINATION PARAMETER() : 001C3 : F042303B 19 00 F7"
  - "ALL DRUMKITS DATA()             : 098D3 : F042303B 0D 00 00 F7"
  - "ALL PROGRAM PARAMETER()         : 3DDC1 : F042303B 1C 00 00 00 F7"
  - "ALL COMBINATIONS PARAMETER()    : 376E6 : F042303B 1D 00 00 00 F7"
  - "ALL DATA()                      : 80481 : F042303B 0F 00 F7"
  - "Everything() : GLOBAL DATA();MODE DATA();MULTI DATA();ALL DRUMKITS DATA();ALL PROGRAM PARAMETER();ALL COMBINATIONS PARAMETER();CURRENT PROGRAM PARAMETER();CURRENT COMBINATION PARAMETER()"
  - "PatchName()                     : CURRENT PROGRAM PARAMETER() : KorgProgramMapper"
  - "CombiName()                     : CURRENT COMBINATION PARAMETER() : KorgCombiMapper"
  - "ModeChange(mode)                : - : F0 42 30 3B 4E 0 mode 00 F7"
  - "ProgramMode()                   : - : ModeChange( $2 )"
  - "CombiMode()                     : - : ModeChange( $0 )"

decodingKey:
  start: 6
  end: 1
  key:
    - 0 G7 F7 E7 D7 C7 B7 A7
    - 0 A6 A5 A4 A3 A2 A1 A0
    - 0 B6 B5 B4 B3 B2 B1 B0
    - 0 C6 C5 C4 C3 C2 C1 C0
    - 0 D6 D5 D4 D3 D2 D1 D0
    - 0 E6 E5 E4 E3 E2 E1 E0
    - 0 F6 F5 F4 F3 F2 F1 F0
    - 0 G6 G5 G4 G3 G2 G1 G0
#
# Banks are listed in manual page 37
#
deviceModes:
  ProgramMode:
    command: ModeChange( $2 )
    queryName: PatchName()
    banks:
      "Program Bank A":
        command: "$0000"
        presetDomain: 0-127
      "Program Bank B":
        command: "$0001"
        presetDomain: 0-127
      "Program Bank C":
        command: "$0002"
        presetDomain: 0-127
      "Program Bank D":
        command: "$0003"
        presetDomain: 0-127
    categories:
      - Keyboard
      - Organ
      - Mallet
      - Bell
      - Strings
      - Vocal/Airy
      - Brass
      - Woodwinds/Reeds
      - Guitar
      - Bass
      - Plucked
      - Synth
      - Synth Lead
      - Motion Synth
      - Sound FX
      - Drums / Perc

  CombiMode:
    command: ModeChange( $0 )
    queryName: CombiName()
    banks:
      "Combi Bank A":
        command: "$0000"
        presetDomain: 0-127
      "Combi Bank B":
        command: "$0001"
        presetDomain: 0-127
      "Combi Bank C":
        command: "$0002"
        presetDomain: 0-127
      "Combi Bank D":
        command: "$0003"
        presetDomain: 0-127
    categories:
      - Pad & Lead
      - Bass Splits
      - Breathy/Airy
      - Bell & Mallet
      - Motion Synth
      - Keyboard
      - Synth
      - Strings
      - Orchestral
      - Horn Section
      - Guitar
      - Bass
      - Ethnic/Trad
      - Organ
      - Complex
      - Drums/Special FX
#
# Select how to send bank select messages to the device:
# ------------------------------------------------------
# NO_BANK_PRG      : Does not send bank select, send only Program Change
# BANK_MSB_PRG     : Send CC "BANK Select MSB" only, then Program Change
# BANK_LSB_PRG     : Send CC "BANK Select LSB" only, then Program Change
# BANK_MSB_LSB_PRG : Send CC "BANK Select MSB" then "BANK Select LSB", then Program Change
#
presetFormat: BANK_MSB_LSB_PRG
#
# FROM_ONE : preset number start from 1, it will be converted to n-1
# FROM_ZERO: preset number will be sent "as is"
#
presetNumbering: FROM_ZERO
#
# STANDARD     : it is possible to get the patch name with SysEx
# SOUND_CANVAS : Path names are hardcoded in java application
#
presetNaming: STANDARD
#
# Mappers to extract patch names
#
mappers:
  KorgProgramMapper:
    fields:
      name:
        type: STRING
        offset: 0
        size: 16
      category:
        type: CATEGORY
        unit: BIT
        offset: $84
        size: 4
  KorgCombiMapper:
    fields:
      name:
        type: STRING
        offset: 0
        size: 16
      category:
        type: CATEGORY
        unit: BIT
        offset: $84
        size: 4
