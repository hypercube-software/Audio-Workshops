#
# Do NOT edit this file, create a <device-name>-user.yml in the same directory instead
#
deviceName: "N1R"
brand: "Korg"
presetFormat: BANK_MSB_LSB_PRG
presetNaming: STANDARD
macros:
  - "GetMode() : F0 42 30 4C 10 F7"
  - "SetMode(mode) : F0 42 30 4C 00 mode F7"
  - "MultiMode() : SetMode(01)"
  - "PartEditMode() : SetMode(02)"
  - "PerfMode() : SetMode(03)"
  - "PerfEditMode() : SetMode(04)"
  - "CombiEditMode() : SetMode(05)"
  - "ProgramEditMode() : SetMode(06)"
  - "DrumEditMode() : SetMode(07)"
  - "EffectEditMode() : SetMode(08)"
  - "Dump(cc) : F0 42 30 4C cc F7"
  - "GlobalDump() : Dump($20)"
  - "ProgramDump() : D3 : Dump($21)"
  - "CombiDump() : Dump($22)"
  - "DrumkitDump() : Dump($23)"
  - "EffectDump() : Dump($24)"
  - "PerfDump() : Dump($25)"
  - "PerfDump() : Dump($25)"
  - "AllProgramsDump() : Dump($26)"
  - "AllCombisDump() : Dump($27)"
  - "AllUserDrumKitDump() : Dump($28)"
  - "AllEffectsDump() : Dump($29)"
  - "AllPerfsDump() : Dump($2A)"
  - "RemoteControl(ctrl,value): F0 42 30 4C 7E ctrl value F7"
  - "PushExitButton() : RemoteControl(04,01);RemoteControl(04,00)"
  - "CombiName() : CombiDump(): NameMapper"
  - "ProgramName() : ProgramDump(): NameMapper"

modeLoadTimeMs: 250

decodingKey:
  start: 5
  end: 1
  key:
    - 0 G7 F7 E7 D7 C7 B7 A7
    - 0 A6 A5 A4 A3 A2 A1 A0
    - 0 B6 B5 B4 B3 B2 B1 B0
    - 0 C6 C5 C4 C3 C2 C1 C0
    - 0 D6 D5 D4 D3 D2 D1 D0
    - 0 E6 E5 E4 E3 E2 E1 E0
    - 0 F6 F5 F4 F3 F2 F1 F0
    - 0 G6 G5 G4 G3 G2 G1 G0

categories:
  - "Keyboard: piano,clav"
  - "Organ: pipe,rotary,drawbar"
  - "Mallet"
  - "Bell"
  - "Strings: bow,violin,cello"
  - "Vocal/Airy: vox,voice"
  - "Brass: horn"
  - "Woodwinds/Reeds"
  - "Guitar: gt,nylon"
  - "Bass: slap,upright"
  - "Plucked"
  - "Synth"
  - "Synth Lead"
  - "Motion Synth: Pad"
  - "Sound FX: sfx"
  - "Drums / Perc: Kit"
  
deviceModes:
  Multi:
    command: MultiMode()
    midiChannels: 0
    banks:
      "PrgU":
        command: "$5000"
        preQueryName: ProgramEditMode()
        queryName: ProgramName()
        postQueryName: MultiMode()
        presetDomain: 0-99
      "PrgA":
        command: "$5100"
        preQueryName: ProgramEditMode()
        queryName: ProgramName()
        postQueryName: MultiMode()
        presetDomain: 0-99
      "PrgB":
        command: "$5200"
        preQueryName: ProgramEditMode()
        queryName: ProgramName()
        postQueryName: MultiMode()
        presetDomain: 0-99
      "PrgC":
        command: "$5300"
        preQueryName: ProgramEditMode()
        queryName: ProgramName()
        postQueryName: MultiMode()
        presetDomain: 0-99
      "CmbU":
        command: "$5800"
        preQueryName: CombiEditMode()
        queryName: CombiName()
        postQueryName: MultiMode()
        presetDomain: 0-99
      "CmbA":
        command: "$5900"
        preQueryName: CombiEditMode()
        queryName: CombiName()
        postQueryName: MultiMode()
        presetDomain: 0-99
      "CmbB":
        command: "$5A00"
        preQueryName: CombiEditMode()
        queryName: CombiName()
        postQueryName: MultiMode()
        presetDomain: 0-99
      "CmbC":
        command: "$5B00"
        preQueryName: CombiEditMode()
        queryName: CombiName()
        postQueryName: MultiMode()
        presetDomain: 0-99

#
# Mappers to extract patch names
#
mappers:
  NameMapper:
    fields:
      name:
        type: STRING
        offset: 0
        size: 10

controllers:
  - "01   | Modulation   | CC         | 0 | 127"
  - "0B   | Expression   | CC         | 0 | 127"
  - "40   | Sustain      | CC         | 0 | 127" 