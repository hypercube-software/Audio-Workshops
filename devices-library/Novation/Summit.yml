#
# Do NOT edit this file, create a <device-name>-user.yml in the same directory instead
#
deviceName: "Summit"
brand: "Novation"
#
# The summit use 3 midi channels:
# 0 : single mode
# 0 : multi mode Global
# 1 : multi mode PART A
# 2 : multi mode PART B
macros:
  # bank: 0=edit buffer, 1,2,3,4=A,B,C,D prg = [0-127]
  - "PATCH(bank,prg)                 : F0 002029 01 11 0133 40 000000 bank prg F7"
  - "CURRENT MULTI()                 : F0 002029 01 11 0133 42 000000 00 00 F7"
  - "MULTI(bank,prg)                 : F0 002029 01 11 0133 43 000000 bank prg F7"
  - "EDIT BUFFER()                   : PATCH(0,0)"
  - "PatchName()                     : EDIT BUFFER() : PatchMapper"
  - "MultiName()                     : CURRENT MULTI() : MultiMapper"
  # Reminder...
  # RPN MSB        = B0 65
  # RPN LSB        = B0 64
  # NRPN MSB       = B0 63
  # NRPN LSB       = B0 62
  # DATA ENTRY MSB = B0 06
  # DATA ENTRY LSB = B0 26
  - "NRPN(channel,msb,lsb,value)  : B channel 63 msb;B channel 62 lsb;B channel 06 value"
  - "pushButton(channel,buttonID) : NRPN(channel,62,0,buttonID)"
  # If the summit is in multi mode, we need to push the "single" button from channel 1 or 2, not 0
  - "singeMode() : pushButton($1,0)"
  # If the summit is in single, we need to push the "single" button from channel 0, not 1 or 2
  - "multiMode() : pushButton($0,1)"

deviceModes:

  Single:
    command: singeMode()
    queryName: PatchName()
    banks:
      "Bank A":
        command: "$0001"
        presetDomain: 0-127
      "Bank B":
        command: "$0002"
        presetDomain: 0-127
      "Bank C":
        command: "$0003"
        presetDomain: 0-127
      "Bank D":
        command: "$0004"
        presetDomain: 0-127
    categories:
      - None
      - Arp
      - Bass
      - Bell
      - Classic
      - DrumPerc
      - Keyboard
      - Synth Lead
      - Motion Synth
      - Synth Pad
      - Synth Poly
      - Sound FX
      - String
      - External Input
      - Vocoder/Tune
  Multi:
    command: multiMode()
    queryName: MultiName()
    banks:
      "Bank A":
        command: "$0001"
        presetDomain: 0-127
      "Bank B":
        command: "$0002"
        presetDomain: 0-127
      "Bank C":
        command: "$0003"
        presetDomain: 0-127
      "Bank D":
        command: "$0004"
        presetDomain: 0-127
    categories:
      - Layer
      - Split
      - Dual

#
# Select how to send bank select messages to the device:
# ------------------------------------------------------
# NO_BANK_PRG      : Does not send bank select, send only Program Change
# BANK_MSB_PRG     : Send CC "BANK Select MSB" only, then Program Change
# BANK_LSB_PRG     : Send CC "BANK Select LSB" only, then Program Change
# BANK_MSB_LSB_PRG : Send CC "BANK Select MSB" then "BANK Select LSB", then Program Change
#
presetFormat: BANK_MSB_LSB_PRG
#
# FROM_ONE : preset number start from 1, it will be converted to n-1
# FROM_ZERO: preset number will be sent "as is"
#
presetNumbering: FROM_ZERO
#
# STANDARD     : it is possible to get the patch name with SysEx
# SOUND_CANVAS : Patch names are hardcoded in java application
#
presetNaming: STANDARD
#
# Mappers to extract patch names
#
mappers:
  PatchMapper:
    fields:
      name:
        type: STRING
        offset: $10
        size: 16
      category:
        type: CATEGORY
        offset: $20
        size: 1
  MultiMapper:
    fields:
      name:
        type: STRING
        offset: $19B
        size: 16
      category:
        type: CATEGORY
        offset: $1AD
        size: 1

